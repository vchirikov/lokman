@page "/"
@page "/index.html"
@namespace Lokman.Client.Pages
@inject IDistributedLockStore _store

<div class="container mx-auto mt-3 bg-white rounded-md md:shadow-xl p-4 text-base">
    <h1 class="text-2xl font-bold border-b mb-5">Locks</h1>
    @* Table header bar *@
    <div class="container flex flex-1 flex-col justify-between text-gray-700">
        <div class="p-2">
            <label for="search" class="text-gray-700 font-semibold text-lg">Search</label>
            <div class="relative mt-1">
                <input id="search" type="search" class="form-input pl-8 block w-full shadow" placeholder="Type a key here">
                <div class="absolute top-0 left-0 h-full inline-flex items-center p-1 pl-2 text-xl text-gray-500">
                    <i class="fa fa-search" aria-hidden="true"></i>
                </div>
            </div>
        </div>
        <div class="bg-teal-100 m-2 p-2 border-l-4 border-teal-400 shadow-md box-border">
            <label class="inline-flex items-center">
                <input type="checkbox" class="form-checkbox text-teal-400" checked>
                <span class="ml-2">100500 are selected</span>
            </label>
        </div>
        <div class="p-2 my-2">
            <table class="table-fixed text-left w-full border-collapse shadow-lg rounded-md">
                <thead class="bg-gray-300 font-bold border-b border-gray-100 rounded-t-md">
                    <tr>
                        <th class="px-2 py-4 w-10"><input id="select-all" type="checkbox" class="form-checkbox inline-block"></th>
                        <th class="px-2 py-4 ml-2">Key</th>
                        <th class="px-2 py-4 w-48">Expiration</th>
                        <th class="px-2 py-4 w-24">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="hover:bg-gray-100 border-gray-300 border-b">
                        <td class="px-2 py-4"><input type="checkbox" class="form-checkbox"></td>
                        <td class="px-2 py-4">SomeKeeeeeeey_001</td>
                        <td class="px-2 py-4">@DateTime.Now</td>
                        <td class="px-2 py-4">
                            <a href="#"><i class="fa fa-search"></i></a>
                            <a href="#"><i class="fa fa-search"></i></a>
                            <a href="#"><i class="fa fa-search"></i></a>
                        </td>
                    </tr>
                    <tr class="hover:bg-gray-100 border-gray-300 border-b">
                        <td class="px-2 py-4"><input type="checkbox" class="form-checkbox"></td>
                        <td class="px-2 py-4">SomeKeeeeeeey_001</td>
                        <td class="px-2 py-4">@DateTime.Now</td>
                        <td class="px-2 py-4">
                            <a href="#"><i class="fa fa-search"></i></a>
                            <a href="#"><i class="fa fa-search"></i></a>
                            <a href="#"><i class="fa fa-search"></i></a>
                        </td>
                    </tr>
                    <tr class="hover:bg-gray-100 border-gray-300 border-b">
                        <td class="px-2 py-4"><input type="checkbox" class="form-checkbox"></td>
                        <td class="px-2 py-4">SomeKeeeeeeey_001</td>
                        <td class="px-2 py-4">@DateTime.Now</td>
                        <td class="px-2 py-4">
                            <a href="#"><i class="fa fa-search"></i></a>
                            <a href="#"><i class="fa fa-search"></i></a>
                            <a href="#"><i class="fa fa-search"></i></a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

@code{
    private async Task LockSomethingAsync()
    {
        await _store.AcquireAsync("resource1", TimeSpan.FromMinutes(1)).ConfigureAwait(false);
    }
}
